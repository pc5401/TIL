# 🎀 Decorator Pattern — 런타임에 ‘포장지’ 씌워 기능 확장하기

> **핵심 문장**
> “클래스를 *상속* 하지 않고, **객체를 감싸면서(add-on)** 행위를 동적으로 더한다.”

---

## 0. 왜 쓰나?

| 증상                                        | 데코레이터 솔루션                      |
| ----------------------------------------- | ------------------------------ |
| “로그도 찍고, 캐시도 넣고, 압축도 해야 한다… 그런데 조합이 늘어난다” | 기본 객체에 **필요한 기능만 체인**으로 래핑     |
| 클래스 상속 트리가 ‘폭발’                           | 기능 X, Y, Z를 다형 조합하기보다 **컴퍼지션** |
| 미들웨어 / 파이프라인 계층 필요                        | 요청을 **순차 포장**해 각 계층 책임 수행      |

---

## 1. 구조 그림 (텍스트)

```
Client → ConcreteComponent
              ▲
              │ wraps
      ┌──── Decorator (abstract) ──────┐
      │    • comp: Component           │
      │    • operation() → comp.op()   │
      └────────────────────────────────┘
          ▲                 ▲
          │                 │
   LoggingDecorator   CompressionDecorator  …
```

* **Component** : 기본 인터페이스
* **ConcreteComponent** : 원본 기능
* **Decorator** : Component를 **구성요소로 보유**하고, 호출 전후에 추가 작업 수행
* **ConcreteDecorator** : 실제 부가기능 구현 (로깅, 캐싱, 권한 체크…)

---
