# 네트워크 계층

## OSI 7계층

1. **물리 계층 (Physical Layer)**
- 데이터 전송의 물리적인 매체와 방법을 정의한다.
- 전기적 신호, 광 신호, 무선 신호 등을 사용한다.
- 케이블, 전압 레벨, 커넥터, 핀 배열 등 하드웨어적인 부분을 포함한다.
- 주파수, 전송 속도, 변조 방식 등의 전송 방법을 규정한다.
- 리피터, 허브 등의 장비가 이 계층에서 동작한다.
- 데이터는 비트(Bit) 단위로 전송된다.

2. **데이터 링크 계층 (Data Link Layer)**
- 물리 계층에서 발생할 수 있는 오류를 감지하고 수정한다.
- MAC(Media Access Control) 주소를 사용하여 데이터 프레임을 전달한다.
- 프레임 동기화, 흐름 제어, 오류 제어를 수행한다.
- 두 개의 하위 계층으로 나뉘며, LLC(Logical Link Control)와 MAC(Media Access Control) 계층이 있다.
- 스위치, 브리지 등의 장비가 이 계층에서 동작한다.
- 데이터는 프레임(Frame) 단위로 전송된다.

3. **네트워크 계층 (Network Layer)**
- 데이터 패킷을 목적지까지 경로를 설정하고 전달한다.
- IP(Internet Protocol) 주소를 사용하여 라우팅한다.
- 패킷 포워딩, 경로 설정, 네트워크 혼잡 제어를 담당한다.
- 라우터와 같은 네트워크 장치가 이 계층에서 작동한다.
- 데이터는 **패킷(Packet)** 단위로 전송된다.
- 라우팅 프로토콜로 OSPF, RIP, BGP 등이 있다.
 
4. [**전송 계층 (Transport Layer)**](transport_layer.md)
- 종단 간 데이터 전송의 신뢰성을 보장한다.
- TCP(Transmission Control Protocol)와 UDP(User Datagram Protocol) 프로토콜을 사용한다.
- 데이터 세그먼트의 흐름 제어, 오류 수정, 재전송 기능을 수행한다.
- 포트 번호를 사용하여 애플리케이션 간의 데이터 전송을 관리한다.
- 포트 번호를 사용하여 애플리케이션 간의 데이터 전송을 관리한다.
- 데이터는 세그먼트(Segment) 또는 데이터그램(Datagram) 단위로 전송된다. 

5. **세션 계층 (Session Layer)**
- 통신 세션을 설정, 관리, 종료한다.
- 세션 재개와 동기화를 담당한다.
- 데이터 교환의 시작과 종료, 체크포인트 설정 등을 수행한다.
- 예를 들어, 파일 전송 중 연결이 끊어졌을 때 다시 연결하여 전송을 재개할 수 있게 한다.

6. **표현 계층 (Presentation Layer)**
- 데이터의 형식 변환과 암호화를 담당한다.
- 데이터 압축, 인코딩, 디코딩을 수행한다.
- 서로 다른 데이터 형식을 사용하는 시스템 간의 데이터 호환성을 보장한다.
- 예를 들어, 문자 인코딩(ASCII, EBCDIC), 이미지 포맷(JPEG, GIF) 등을 처리한다.
- SSL/TLS 프로토콜을 사용하여 데이터 암호화를 수행한다.

7. **응용 계층 (Application Layer)**
- 사용자가 네트워크에 접근하는 인터페이스를 제공한다.
- HTTP, FTP, SMTP 등의 프로토콜을 포함한다.
- 웹 브라우징, 파일 전송, 이메일 전송 등 다양한 네트워크 서비스를 제공한다.
- 사용자 인터페이스와 직접 상호작용하며, 네트워크 요청을 처리한다.
- DNS(Domain Name System), DHCP(Dynamic Host Configuration Protocol) 등의 프로토콜이 포함된다.


## TCP/IP 4계층

TCP/IP 모델은 인터넷을 통해 데이터가 어떻게 전송되는지 설명하는 모델로, OSI 모델과 달리 4개의 계층으로 구성된다.

1. **네트워크 인터페이스 계층 (Network Interface Layer)**
- OSI 모델의 물리 계층과 데이터 링크 계층에 해당한다.
- 네트워크 하드웨어 장치와 물리적 연결을 다루며, 데이터 프레임의 전송을 담당한다.
- 이더넷, Wi-Fi 등의 기술을 사용하여 데이터를 물리적으로 전송한다.
- MAC 주소를 사용하여 통신한다.

2. **인터넷 계층 (Internet Layer)**
- OSI 모델의 네트워크 계층에 해당한다.
- 데이터 패킷의 주소 지정과 라우팅을 담당한다.
- IP(Internet Protocol)를 사용하여 데이터 패킷을 목적지까지 전달한다.
- 주요 프로토콜로는 IP, ICMP(Internet Control Message Protocol), ARP(Address Resolution Protocol)가 있다.
- IP 주소를 사용하여 통신하며, IPv4와 IPv6를 지원한다.
  
3. [**전송 계층 (Transport Layer)**](./transport_layer.md)
- OSI 모델의 전송 계층에 해당한다.
- 데이터 전송의 신뢰성을 보장하고, 데이터 전송을 관리한다.
- TCP와 UDP 프로토콜을 사용하여 데이터 전송을 제어한다.
- TCP는 연결 지향적 프로토콜로 신뢰성 있는 데이터 전송을 보장하며, UDP는 비연결 지향적 프로토콜로 빠른 데이터 전송을 제공한다.
- UDP는 비연결 지향적 프로토콜로 빠른 데이터 전송을 제공하지만 신뢰성은 보장하지 않는다.
- 포트 번호를 사용하여 애플리케이션 간의 통신을 구분한다.

4. **응용 계층 (Application Layer)**
- OSI 모델의 세션 계층, 표현 계층, 응용 계층에 해당한다.
- 사용자가 네트워크 서비스에 접근할 수 있는 다양한 프로토콜을 제공한다.
- HTTP, FTP, SMTP, DNS, Telnet 등의 프로토콜이 포함된다.
- 네트워크 응용 프로그램이 실행되는 환경을 제공하고, 데이터 형식 변환, 암호화, 세션 관리를 수행한다.
- 이메일, 웹 서비스, 원격 로그인 등 다양한 서비스를 지원한다.

## OSI 7계층과 TCP/IP 4계층 비교
- OSI 모델은 7개의 계층으로 이루어져 있으며, 각 계층은 독립적으로 동작하면서 상호 의존적인 관계를 가진다.
- TCP/IP 모델은 실용성을 강조하여 4개의 계층으로 구성되어 있으며, 인터넷에서 실제로 사용되는 프로토콜들을 중심으로 설계되었다.
- OSI 모델의 세션 계층, 표현 계층, 응용 계층은 TCP/IP 모델의 응용 계층에 통합되어 있다.
- OSI 모델은 이론적인 모델로 네트워크의 개념을 이해하는 데 도움이 되며, TCP/IP 모델은 실제 네트워크 구현에 사용된다.

## 데이터 전송 과정
- 데이터는 송신 측에서 응용 계층에서부터 물리 계층으로 내려가면서 각 계층에서 헤더가 추가된다. 이를 **캡슐화(Encapsulation)**라고 한다.
- 수신 측에서는 물리 계층에서 응용 계층으로 올라가면서 각 계층에서 헤더를 제거한다. 이를 **역캡슐화(Decapsulation)**라고 한다.

## 각 계층의 데이터 단위
- 물리 계층: 비트(Bit)
- 데이터 링크 계층: 프레임(Frame)
- 네트워크 계층: 패킷(Packet)
- 전송 계층: 세그먼트(Segment) 또는 데이터그램(Datagram)
- 응용 계층: 메시지(Message)