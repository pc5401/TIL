# 전송 계층(TCP, UDP)

### TCP (Transmission Control Protocol)
- 연결 지향적: 데이터 전송 전에 송신자와 수신자 간의 연결을 설정해야 함.
- 신뢰성 보장: 데이터 패킷이 손실되거나 순서가 바뀌지 않도록 보장함.
- 흐름 제어 및 혼잡 제어: 네트워크 혼잡을 방지하고, 수신자의 처리 능력을 고려해 데이터를 전송함.
- 데이터 분할 및 재조립: 큰 데이터를 작은 조각으로 나누어 전송하고, 수신자가 이를 재조립함.
- 3-way Handshake: 연결을 설정하기 위한 절차. (SYN, SYN-ACK, ACK)
- 사용 예: 웹 브라우징(HTTP/HTTPS), 이메일(SMTP), 파일 전송(FTP) 등.

### UDP (User Datagram Protocol)
- 비연결 지향적: 송신자와 수신자 간의 연결 설정 없이 데이터를 전송함.
- 신뢰성 없음: 데이터 패킷의 손실이나 순서 변경을 보장하지 않음.
- 속도 우선: 빠른 데이터 전송이 필요할 때 사용됨.
- 단순한 프로토콜: 흐름 제어, 혼잡 제어, 데이터 재조립 등의 기능이 없음.
- 사용 예: 실시간 스트리밍, 온라인 게임, VoIP 등.

### TCP 3-way Handshake
TCP의 3-way Handshake는 송신자와 수신자 간의 연결을 설정하는 절차로, 다음 세 단계로 이루어진다. 

1. SYN (Synchronize Sequence Numbers)

- 송신자가 연결을 요청하는 메시지를 보냄.
- SYN 플래그를 설정한 패킷을 수신자에게 전송.
- 이 패킷에는 초기 순서 번호(ISN, Initial Sequence Number)가 포함됨.

2. SYN-ACK (Synchronize-Acknowledge)

- 수신자가 송신자의 요청을 수락하는 메시지를 보냄.
- SYN과 ACK 플래그를 모두 설정한 패킷을 송신자에게 전송.
- 수신자는 자신의 초기 순서 번호와 송신자의 ISN에 1을 더한 값을 응답으로 보냄.

3. ACK (Acknowledge)

- 송신자가 수신자의 응답을 확인하는 메시지를 보냄.
- ACK 플래그를 설정한 패킷을 수신자에게 전송.
- 수신자의 ISN에 1을 더한 값을 응답으로 보냄.
- 이 과정을 통해 송신자와 수신자 간의 연결이 설정되고, 이후 데이터 전송이 시작된다.

### UDP 전송 과정
- 데이터 전송
  - 송신자는 데이터를 데이터그램 형태로 전송.
  - 각 데이터그램은 독립적으로 전송되며, 순서와 무관함.
  - 수신자는 도착한 순서대로 데이터를 처리.
  - 데이터 손실 시 재전송 없음.

### TCP와 UDP의 차이점 요약

| 특징                        | TCP                           | UDP                           |
|-----------------------------|-------------------------------|-------------------------------|
| 연결 방식                   | 연결 지향적                   | 비연결 지향적                 |
| 신뢰성                      | 신뢰성 있음                   | 신뢰성 없음                   |
| 흐름 제어 및 혼잡 제어      | 있음                          | 없음                          |
| 속도                        | 상대적으로 느림               | 상대적으로 빠름               |
| 데이터 전송 보장            | 데이터 손실 및 순서 보장      | 데이터 손실 및 순서 보장 안됨 |
| 사용 예                     | HTTP, FTP, SMTP, Telnet 등    | DNS, VoIP, 스트리밍 등        |

