CSS 레이아웃의 모든 기초는 **‘요소 = 하나의 박스’**라는 개념에서 출발한다.

이 박스가 화면에서 실제로 차지하는 크기와 간격을 어떻게 계산‧렌더링하는지를 정확히 이해하면, 예측 불가능한 깨짐(break)이나 미묘한 오차를 대부분 사전에 차단할 수 있다.

---

## 1. 박스 모델 4 영역 다시 보기

```
┌─────────────── margin ───────────────┐
│  ┌──────────── border ────────────┐  │
│  │  ┌───────── padding ─────────┐ │  │
│  │  │      ┌─ content ─┐        │ │  │
│  │  │      │ 글자·이미지 │        │ │  │
│  │  │      └────────────┘        │ │  │
│  │  └────────────────────────────┘ │  │
│  └─────────────────────────────────┘  │
└───────────────────────────────────────┘

```

| 영역 | 핵심 역할 | 디폴트 색상 상속 |
| --- | --- | --- |
| **Content** | 실제 데이터(텍스트·이미지·비디오 등) 표시 | ✅ 배경·글자색 |
| **Padding** | ‘안쪽 여백’. 배경이 **여기까지** 칠해진다 | ✅ 배경 상속 |
| **Border** | 요소를 시각적으로 구분하거나 강조 | ❌ 투명(명시 필요) |
| **Margin** | ‘바깥 여백’. 인접 요소 간 거리 확보 | ❌ 항상 투명 |

> TIP
> 
> 
> 배경색이 어디까지 채워지는지 확인하려면 DevTools에서 `background-color: rgba(0,255,0,.2);` 처럼 반투명 색을 지정해 보자. Padding까지만 색이 들어가는 것을 쉽게 확인할 수 있다.
> 

---

## 2. `box-sizing`으로 계산 방식 제어

| 값 | 계산 기준 | 사용 빈도 |
| --- | --- | --- |
| `content-box` | `width`·`height` → **Content** 크기 | 과거 표준(디폴트) |
| `border-box` | `width`·`height` → Content+Padding+Border **총합** | 현대 프로젝트 대부분 |

```css

/* 전역 리셋 패턴 – border-box 일괄 적용 */
*, *::before, *::after {
  box-sizing: border-box;
}

```

- 반응형 레이아웃에서 padding/border가 커져도 박스가 튀어나오지 않아 계산이 단순해진다.
- 단, `<canvas>`, `<img>` 등 **대체(replaced) 요소**는 UA(User Agent) 스타일에 따라 예외가 있을 수 있으므로 DevTools로 실제 크기를 재확인한다.

---

## 3. 마진 겹침(Margin Collapse) ⚠️

- **세로 방향(Block Axis)** 인접 블록 간 마진이 **큰 값 하나**로 합쳐진다.
- 부모와 첫·마지막 자식 사이에서도 겹침이 발생한다.
- 해결 패턴
    1. 부모에 `padding-top: 1px` 또는 `overflow: hidden` → 겹침 차단
    2. 현대 레이아웃(Flex, Grid) 사용 → Flex 컨테이너 안에서는 자식 마진끼리만 겹침

```css

.section {
  /* 마진 겹침 방지 */
  overflow: auto;      /* 또는 padding-top: .1px; */
}

```

---

## 4. 인라인·인라인‑블록 vs 블록

| 구분 | 박스 모델 계산 | 주의할 점 |
| --- | --- | --- |
| **Inline** | 수직 패딩·마진은 라인 높이(line‑box)에만 영향 | 수직 마진이 예상대로 동작하지 않는다고 느낄 때가 많다 |
| **Inline‑block** | 박스 모델이 **완전히 적용**되며 한 줄에 배치 | 글자 사이 공백(HTML 개행) 때문에 `gap`이 생길 수 있음 |
| **Block** | 새 줄 차지. 마진 겹침 발생 | 대부분의 레이아웃 기본 단위 |

---

## 5. 퍼센트(%) 패딩·마진의 기준

- 가로 패딩·마진(%) → **해당 요소의 너비** 기준
- 세로 패딩·마진(%) → **여전히 너비 기준**(CSS2.x 규칙)
    - 그래서 정사각형 비율 박스를 만들 때 `padding-top: 100%` 트릭을 쓴다.
- CSS Logical Properties(예: `padding-block-start`)를 쓰면, Writing Mode에 따라 동적으로 계산돼 다국어 레이아웃이 편해진다.

---

## 6. 테두리 확장 고급 기법

```css

.card {
  border: 8px solid transparent;
  border-image: url(border.png) 30 stretch;
}

```

- `border-image` → 이미지로 테두리를 분할‑늘려‑반복하여 그린다.
- `outline` → 박스 밖에 그려지므로 레이아웃에 **영향 X**, 포커스 표시나 접근성용 강조선에 적합.

---

## 7. Flex·Grid와 박스 모델

- **Flex Item** → `margin:auto`를 쓰면 남은 공간을 **모두** 차지하며 정렬까지 동시에 해결.
- **Grid Item** → 셀의 `gap`은 마진이 아니라 **트랙 사이 간격**이므로 마진 겹침과 무관.
- 컨테이너에 `align-content`, `justify-content`를 조합하면 마진보다 직관적으로 배치 가능.

---

## 8. 디버깅 체크리스트

1. 예상보다 요소가 넓다 → `box-sizing` 확인.
2. 인접 박스 간 거리가 이상하다 → 마진 겹침 의심.
3. 인라인 요소 패딩이 보이지 않는다 → 라인‑박스 높이 부족, `line-height` 조정.
4. 이미지·비디오 아래에 빈 틈 → 인라인 기본 `baseline` 정렬. `vertical-align: top;`으로 해결.

---

## 9. 결론 🚀

- **박스 모델 = 레이아웃의 알파와 오메가**이다.
- `border-box` + Flex/Grid + 마진 겹침 이해 → 현대 웹 레이아웃 문제 80% 해결.
- DevTools 레이어(Chrome ‘레이아웃’ 탭)로 padding·border·margin을 실시간 시각화하며 학습하면 체감이 빠르다.

> 한 줄 요약
> 
> 
> 박스 모델을 정확히 이해하고 `box-sizing`·마진 겹침·퍼센트 패딩 규칙을 몸에 익히면, 복잡한 UI도 **픽셀 단위까지 예측 가능한** 탄탄한 레이아웃을 설계할 수 있다.
>